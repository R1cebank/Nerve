(function() {
  var app, bodyParser, connectedClients, d, express, guest, http, io, mongo, mongourl, port, raygun, raygunClient, server, uuid;

  if (process.env.NODETIME_ACCOUNT_KEY != null) {
    require('nodetime').profile({
      accountKey: process.env.NODETIME_ACCOUNT_KEY,
      appName: 'nerved'
    });
  }

  raygun = require('raygun');

  raygunClient = new raygun.Client().init({
    apiKey: 'MJqfCmhfsVzK8wR3TML/Fw=='
  });

  d = require('domain').create();

  d.on('error', function(err) {
    return raygunClient.send(err, {}, function() {
      return process.exit();
    });
  });

  port = process.env.PORT || 3939;

  express = require('express');

  app = express();

  http = require('http').Server(app);

  io = require('socket.io')(http);

  uuid = require('node-uuid');

  bodyParser = require('body-parser');

  mongo = require('mongodb').MongoClient;

  mongourl = 'mongodb://nerved:CphV7caUpdYRR9@ds041561.mongolab.com:41561/heroku_app33695157';

  connectedClients = [];

  guest = {
    name: "guest",
    email: "nerve-guest@gmail.com",
    profession: "guest",
    talents: "guesting"
  };

  mongo.connect(mongourl, function(err, db) {
    if (err != null) {
      raygunClient.send(err);
      process.exit();
    }
    return console.log('connected to database.');
  });

  app.use(bodyParser.urlencoded({
    extended: false
  }));

  app.use('/css', express["static"](process.cwd() + '/www/css'));

  app.use('/img', express["static"](process.cwd() + '/www/img'));

  app.use('/js', express["static"](process.cwd() + '/www/js'));

  app.use(function(err, req, res, next) {
    return raygunClient.send(err, {
      request: req,
      response: res,
      next: next
    });
  });

  app.get('/', function(req, res) {
    return res.sendFile(process.cwd() + '/www/index.html');
  });

  app.post('/login', function(req, res) {
    return res.send("user: " + req.body.user + " pass: " + req.body.pass);
  });

  server = http.listen(port, function() {
    var host;
    host = server.address().address;
    port = server.address().port;
    return console.log('server started at http://%s:%s', host, port);
  });


  /*
  post {
    author: "",
    title: "",
    description: "",
    tags: {},
    requirement: {}, //tags and requirement are automatically generated as user input
    status: "",
    comp: "",
    location: "",
    remark: "",
    date: "",
  }
   */

  server.on('error', function(err) {
    return raygunClient.send(err);
  });

  io.on('connection', function(socket) {
    var clientUUID;
    clientUUID = uuid.v1();
    connectedClients.push({
      socket: socket,
      uuid: uuid.v1(),
      profile: guest,
      enabled: false
    });
    socket.emit('handshake', {
      uuid: clientUUID
    });
    socket.on('login', function(data) {
      return console.log('client trying to login.');
    });
    return socket.on('error', function(err) {
      return raygunClient.send(err);
    });
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,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LEdBQWxCLEVBRGlCO0lBQUEsQ0FBbkIsRUFQa0I7RUFBQSxDQUFwQixDQW5GQSxDQUFBO0FBQUEiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbImlmIHByb2Nlc3MuZW52Lk5PREVUSU1FX0FDQ09VTlRfS0VZP1xuICByZXF1aXJlKCdub2RldGltZScpLnByb2ZpbGVcbiAgICBhY2NvdW50S2V5OiBwcm9jZXNzLmVudi5OT0RFVElNRV9BQ0NPVU5UX0tFWSxcbiAgICBhcHBOYW1lOiAnbmVydmVkJ1xuXG5yYXlndW4gPSByZXF1aXJlICdyYXlndW4nXG5yYXlndW5DbGllbnQgPSBuZXcgcmF5Z3VuLkNsaWVudCgpLmluaXRcbiAgYXBpS2V5OiAnTUpxZkNtaGZzVnpLOHdSM1RNTC9Gdz09J1xuXG5kID0gcmVxdWlyZSgnZG9tYWluJykuY3JlYXRlKClcbmQub24gJ2Vycm9yJywgKGVycikgLT5cbiAgcmF5Z3VuQ2xpZW50LnNlbmQgZXJyLCB7fSwgLT5cbiAgICBwcm9jZXNzLmV4aXQoKVxuXG5wb3J0ID0gcHJvY2Vzcy5lbnYuUE9SVCB8fCAzOTM5XG5cbmV4cHJlc3MgPSByZXF1aXJlICdleHByZXNzJ1xuYXBwID0gZXhwcmVzcygpXG5odHRwID0gcmVxdWlyZSgnaHR0cCcpLlNlcnZlcihhcHApXG5pbyA9IHJlcXVpcmUoJ3NvY2tldC5pbycpKGh0dHApXG51dWlkID0gcmVxdWlyZSAnbm9kZS11dWlkJ1xuYm9keVBhcnNlciA9IHJlcXVpcmUgJ2JvZHktcGFyc2VyJ1xubW9uZ28gPSByZXF1aXJlKCdtb25nb2RiJykuTW9uZ29DbGllbnRcblxubW9uZ291cmwgPSAnbW9uZ29kYjovL25lcnZlZDpDcGhWN2NhVXBkWVJSOUBkczA0MTU2MS5tb25nb2xhYi5jb206NDE1NjEvaGVyb2t1X2FwcDMzNjk1MTU3J1xuXG5jb25uZWN0ZWRDbGllbnRzID0gW11cblxuZ3Vlc3QgPVxuICBuYW1lOiBcImd1ZXN0XCJcbiAgZW1haWw6IFwibmVydmUtZ3Vlc3RAZ21haWwuY29tXCJcbiAgcHJvZmVzc2lvbjogXCJndWVzdFwiXG4gIHRhbGVudHM6IFwiZ3Vlc3RpbmdcIlxuXG4jI0Nvbm5lY3QgdG8gbW9uZ29kYiBzZXJ2ZXJcbm1vbmdvLmNvbm5lY3QgbW9uZ291cmwsIChlcnIsIGRiKSAtPlxuICBpZiBlcnI/XG4gICAgcmF5Z3VuQ2xpZW50LnNlbmQgZXJyXG4gICAgcHJvY2Vzcy5leGl0KClcblxuICBjb25zb2xlLmxvZyAnY29ubmVjdGVkIHRvIGRhdGFiYXNlLidcblxuXG5hcHAudXNlIGJvZHlQYXJzZXIudXJsZW5jb2RlZCBleHRlbmRlZDogZmFsc2VcbmFwcC51c2UgJy9jc3MnLCBleHByZXNzLnN0YXRpYyBwcm9jZXNzLmN3ZCgpICsgJy93d3cvY3NzJ1xuYXBwLnVzZSAnL2ltZycsIGV4cHJlc3Muc3RhdGljIHByb2Nlc3MuY3dkKCkgKyAnL3d3dy9pbWcnXG5hcHAudXNlICcvanMnLCBleHByZXNzLnN0YXRpYyBwcm9jZXNzLmN3ZCgpICsgJy93d3cvanMnXG5hcHAudXNlIChlcnIsIHJlcSwgcmVzLCBuZXh0KSAtPlxuICByYXlndW5DbGllbnQuc2VuZCBlcnIsXG4gICAgcmVxdWVzdDogcmVxXG4gICAgcmVzcG9uc2U6IHJlc1xuICAgIG5leHQ6IG5leHRcblxuYXBwLmdldCAnLycsIChyZXEsIHJlcykgLT5cbiAgcmVzLnNlbmRGaWxlIHByb2Nlc3MuY3dkKCkgKyAnL3d3dy9pbmRleC5odG1sJ1xuXG4jI211c3QgdXNlIHgtd3d3LWZvcm0tdXJsZW5jb2RlZFxuYXBwLnBvc3QgJy9sb2dpbicsIChyZXEsIHJlcykgLT5cbiAgcmVzLnNlbmQgXCJ1c2VyOiBcIiArIHJlcS5ib2R5LnVzZXIgKyBcIiBwYXNzOiBcIiArIHJlcS5ib2R5LnBhc3Ncblxuc2VydmVyID0gaHR0cC5saXN0ZW4gcG9ydCwgLT5cbiAgaG9zdCA9IHNlcnZlci5hZGRyZXNzKCkuYWRkcmVzc1xuICBwb3J0ID0gc2VydmVyLmFkZHJlc3MoKS5wb3J0XG4gIGNvbnNvbGUubG9nICdzZXJ2ZXIgc3RhcnRlZCBhdCBodHRwOi8vJXM6JXMnLCBob3N0LCBwb3J0XG5cbiMjI1xucG9zdCB7XG4gIGF1dGhvcjogXCJcIixcbiAgdGl0bGU6IFwiXCIsXG4gIGRlc2NyaXB0aW9uOiBcIlwiLFxuICB0YWdzOiB7fSxcbiAgcmVxdWlyZW1lbnQ6IHt9LCAvL3RhZ3MgYW5kIHJlcXVpcmVtZW50IGFyZSBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBhcyB1c2VyIGlucHV0XG4gIHN0YXR1czogXCJcIixcbiAgY29tcDogXCJcIixcbiAgbG9jYXRpb246IFwiXCIsXG4gIHJlbWFyazogXCJcIixcbiAgZGF0ZTogXCJcIixcbn1cbiMjI1xuXG5zZXJ2ZXIub24gJ2Vycm9yJywgKGVycikgLT5cbiAgcmF5Z3VuQ2xpZW50LnNlbmQgZXJyXG5cbmlvLm9uICdjb25uZWN0aW9uJywgKHNvY2tldCkgLT5cbiAgY2xpZW50VVVJRCA9IHV1aWQudjEoKVxuICBjb25uZWN0ZWRDbGllbnRzLnB1c2ggc29ja2V0OiBzb2NrZXQsIHV1aWQ6IHV1aWQudjEoKSwgcHJvZmlsZTogZ3Vlc3QsIGVuYWJsZWQ6IG5vXG4gIHNvY2tldC5lbWl0ICdoYW5kc2hha2UnLFxuICAgIHV1aWQ6IGNsaWVudFVVSURcbiAgc29ja2V0Lm9uICdsb2dpbicsIChkYXRhKSAtPlxuICAgIGNvbnNvbGUubG9nICdjbGllbnQgdHJ5aW5nIHRvIGxvZ2luLidcbiAgc29ja2V0Lm9uICdlcnJvcicsIChlcnIpIC0+XG4gICAgcmF5Z3VuQ2xpZW50LnNlbmQgZXJyXG4iXX0=