(function() {
  var app, d, express, http, io, port, raygun, raygunClient, server, uuid;

  if (process.env.NODETIME_ACCOUNT_KEY != null) {
    require('nodetime').profile({
      accountKey: process.env.NODETIME_ACCOUNT_KEY,
      appName: 'nerved'
    });
  }

  raygun = require('raygun');

  raygunClient = new raygun.Client().init({
    apiKey: 'MJqfCmhfsVzK8wR3TML/Fw=='
  });

  d = require('domain').create();

  d.on('error', function(err) {
    return raygunClient.send(err, {}, function() {
      return process.exit();
    });
  });

  port = process.env.PORT || 3939;

  express = require('express');

  app = express();

  http = require('http').Server(app);

  io = require('socket.io')(http);

  uuid = require('node-uuid');

  app.use('/css', express["static"](process.cwd() + '/www/css'));

  app.use('/img', express["static"](process.cwd() + '/www/img'));

  app.use('/js', express["static"](process.cwd() + '/www/js'));

  app.use(function(err, req, res, next) {
    return raygunClient.send(err, {
      request: req,
      response: res,
      next: next
    });
  });

  app.get('/', function(req, res) {
    return res.sendFile(process.cwd() + '/www/index.html');
  });

  app.get('/login', function(req, res) {
    return res.send(req);
  });

  server = http.listen(port, function() {
    var host;
    host = server.address().address;
    port = server.address().port;
    return console.log('server started at http://%s:%s', host, port);
  });


  /*
  post {
    author: "",
    title: "",
    description: "",
    tags: {},
    requirement: {}, //tags and requirement are automatically generated as user input
    status: "",
    comp: "",
    location: "",
    remark: "",
    date: "",
  }
   */

  server.on('error', function(err) {
    return raygunClient.send(err);
  });

  io.on('connection', function(socket) {
    socket.emit('handshake', 'welcome to nerve');
    return socket.on('error', function(err) {
      return raygunClient.send(err);
    });
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,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TixHQUFBO1dBQ2hCLEdBQUcsQ0FBQyxJQUFKLENBQVMsR0FBVCxFQURnQjtFQUFBLENBQWxCLENBbENBLENBQUE7O0FBQUEsRUFxQ0EsTUFBQSxHQUFTLElBQUksQ0FBQyxNQUFMLENBQVksSUFBWixFQUFrQixTQUFBLEdBQUE7QUFDekIsUUFBQSxJQUFBO0FBQUEsSUFBQSxJQUFBLEdBQU8sTUFBTSxDQUFDLE9BQVAsQ0FBQSxDQUFnQixDQUFDLE9BQXhCLENBQUE7QUFBQSxJQUNBLElBQUEsR0FBTyxNQUFNLENBQUMsT0FBUCxDQUFBLENBQWdCLENBQUMsSUFEeEIsQ0FBQTtXQUVBLE9BQU8sQ0FBQyxHQUFSLENBQWEsZ0NBQWIsRUFBOEMsSUFBOUMsRUFBb0QsSUFBcEQsRUFIeUI7RUFBQSxDQUFsQixDQXJDVCxDQUFBOztBQTBDQTtBQUFBOzs7Ozs7Ozs7Ozs7O0tBMUNBOztBQUFBLEVBeURBLE1BQU0sQ0FBQyxFQUFQLENBQVcsT0FBWCxFQUFtQixTQUFDLEdBQUQsR0FBQTtXQUNqQixZQUFZLENBQUMsSUFBYixDQUFrQixHQUFsQixFQURpQjtFQUFBLENBQW5CLENBekRBLENBQUE7O0FBQUEsRUE0REEsRUFBRSxDQUFDLEVBQUgsQ0FBTyxZQUFQLEVBQW9CLFNBQUMsTUFBRCxHQUFBO0FBQ2xCLElBQUEsTUFBTSxDQUFDLElBQVAsQ0FBYSxXQUFiLEVBQTBCLGtCQUExQixDQUFBLENBQUE7V0FDQSxNQUFNLENBQUMsRUFBUCxDQUFXLE9BQVgsRUFBbUIsU0FBQyxHQUFELEdBQUE7YUFDakIsWUFBWSxDQUFDLElBQWIsQ0FBa0IsR0FBbEIsRUFEaUI7SUFBQSxDQUFuQixFQUZrQjtFQUFBLENBQXBCLENBNURBLENBQUE7QUFBQSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiaWYgcHJvY2Vzcy5lbnYuTk9ERVRJTUVfQUNDT1VOVF9LRVk/XG4gIHJlcXVpcmUoJ25vZGV0aW1lJykucHJvZmlsZVxuICAgIGFjY291bnRLZXk6IHByb2Nlc3MuZW52Lk5PREVUSU1FX0FDQ09VTlRfS0VZLFxuICAgIGFwcE5hbWU6ICduZXJ2ZWQnXG5cbnJheWd1biA9IHJlcXVpcmUgJ3JheWd1bidcbnJheWd1bkNsaWVudCA9IG5ldyByYXlndW4uQ2xpZW50KCkuaW5pdFxuICBhcGlLZXk6ICdNSnFmQ21oZnNWeks4d1IzVE1ML0Z3PT0nXG5cbmQgPSByZXF1aXJlKCdkb21haW4nKS5jcmVhdGUoKVxuZC5vbiAnZXJyb3InLCAoZXJyKSAtPlxuICByYXlndW5DbGllbnQuc2VuZCBlcnIsIHt9LCAtPlxuICAgIHByb2Nlc3MuZXhpdCgpXG5cbnBvcnQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDM5MzlcblxuZXhwcmVzcyA9IHJlcXVpcmUgJ2V4cHJlc3MnXG5hcHAgPSBleHByZXNzKClcbmh0dHAgPSByZXF1aXJlKCdodHRwJykuU2VydmVyKGFwcClcbmlvID0gcmVxdWlyZSgnc29ja2V0LmlvJykoaHR0cClcbnV1aWQgPSByZXF1aXJlICdub2RlLXV1aWQnXG5cblxuYXBwLnVzZSAnL2NzcycsIGV4cHJlc3Muc3RhdGljIHByb2Nlc3MuY3dkKCkgKyAnL3d3dy9jc3MnXG5hcHAudXNlICcvaW1nJywgZXhwcmVzcy5zdGF0aWMgcHJvY2Vzcy5jd2QoKSArICcvd3d3L2ltZydcbmFwcC51c2UgJy9qcycsIGV4cHJlc3Muc3RhdGljIHByb2Nlc3MuY3dkKCkgKyAnL3d3dy9qcydcbmFwcC51c2UgKGVyciwgcmVxLCByZXMsIG5leHQpIC0+XG4gIHJheWd1bkNsaWVudC5zZW5kIGVycixcbiAgICByZXF1ZXN0OiByZXFcbiAgICByZXNwb25zZTogcmVzXG4gICAgbmV4dDogbmV4dFxuXG5hcHAuZ2V0ICcvJywgKHJlcSwgcmVzKSAtPlxuICByZXMuc2VuZEZpbGUgcHJvY2Vzcy5jd2QoKSArICcvd3d3L2luZGV4Lmh0bWwnXG5hcHAuZ2V0ICcvbG9naW4nLCAocmVxLCByZXMpIC0+XG4gIHJlcy5zZW5kIHJlcVxuXG5zZXJ2ZXIgPSBodHRwLmxpc3RlbiBwb3J0LCAtPlxuICBob3N0ID0gc2VydmVyLmFkZHJlc3MoKS5hZGRyZXNzXG4gIHBvcnQgPSBzZXJ2ZXIuYWRkcmVzcygpLnBvcnRcbiAgY29uc29sZS5sb2cgJ3NlcnZlciBzdGFydGVkIGF0IGh0dHA6Ly8lczolcycsIGhvc3QsIHBvcnRcblxuIyMjXG5wb3N0IHtcbiAgYXV0aG9yOiBcIlwiLFxuICB0aXRsZTogXCJcIixcbiAgZGVzY3JpcHRpb246IFwiXCIsXG4gIHRhZ3M6IHt9LFxuICByZXF1aXJlbWVudDoge30sIC8vdGFncyBhbmQgcmVxdWlyZW1lbnQgYXJlIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGFzIHVzZXIgaW5wdXRcbiAgc3RhdHVzOiBcIlwiLFxuICBjb21wOiBcIlwiLFxuICBsb2NhdGlvbjogXCJcIixcbiAgcmVtYXJrOiBcIlwiLFxuICBkYXRlOiBcIlwiLFxufVxuIyMjXG5cbnNlcnZlci5vbiAnZXJyb3InLCAoZXJyKSAtPlxuICByYXlndW5DbGllbnQuc2VuZCBlcnJcblxuaW8ub24gJ2Nvbm5lY3Rpb24nLCAoc29ja2V0KSAtPlxuICBzb2NrZXQuZW1pdCAnaGFuZHNoYWtlJywgJ3dlbGNvbWUgdG8gbmVydmUnXG4gIHNvY2tldC5vbiAnZXJyb3InLCAoZXJyKSAtPlxuICAgIHJheWd1bkNsaWVudC5zZW5kIGVyclxuIl19